---
interface Props {
	title?: string;
	subtitle?: string;
}

const { 
	title = "Get in Touch", 
	subtitle = "Fill out the form below and we'll get back to you as soon as possible." 
} = Astro.props;
---

<section class="bg-white rounded-xl shadow-lg p-8">
	<div class="max-w-2xl mx-auto">
		<h2 class="text-3xl font-bold text-gray-900 mb-2">{title}</h2>
		<p class="text-gray-600 mb-8">{subtitle}</p>
		
		<form class="space-y-6">
			<div class="grid grid-cols-1 md:grid-cols-2 gap-6">
				<div>
					<label for="firstName" class="block text-sm font-medium text-gray-700 mb-2">First Name *</label>
					<input 
						type="text" 
						id="firstName" 
						name="firstName" 
						required
						class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 outline-none transition-all"
						placeholder="John"
					/>
				</div>
				
				<div>
					<label for="lastName" class="block text-sm font-medium text-gray-700 mb-2">Last Name *</label>
					<input 
						type="text" 
						id="lastName" 
						name="lastName" 
						required
						class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 outline-none transition-all"
						placeholder="Smith"
					/>
				</div>
			</div>
			
			<div>
				<label for="email" class="block text-sm font-medium text-gray-700 mb-2">Email *</label>
				<input 
					type="email" 
					id="email" 
					name="email" 
					required
					class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 outline-none transition-all"
					placeholder="john.smith@example.com"
				/>
			</div>
			
			<div>
				<label for="phone" class="block text-sm font-medium text-gray-700 mb-2">Phone Number</label>
				<input 
					type="tel" 
					id="phone" 
					name="phone"
					class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 outline-none transition-all"
					placeholder="07123 456789"
				/>
			</div>
			
			<div>
				<label for="location" class="block text-sm font-medium text-gray-700 mb-2">Your Location *</label>
				<select 
					id="location" 
					name="location" 
					required
					class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 outline-none transition-all"
				>
					<option value="">Select your area...</option>
					<option value="burton">Burton upon Trent (within 10 miles)</option>
					<option value="barton">Barton under Needwood</option>
					<option value="tatenhill">Tatenhill</option>
					<option value="repton">Repton</option>
					<option value="derby">Derby (within 5 miles)</option>
					<option value="mickleover">Mickleover</option>
					<option value="mackworth">Mackworth</option>
					<option value="melbourne">Melbourne</option>
				</select>
			</div>
			
			<div>
				<label for="service" class="block text-sm font-medium text-gray-700 mb-2">Service Interested In *</label>
				<select 
					id="service" 
					name="service" 
					required
					class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 outline-none transition-all"
				>
					<option value="">Select a service...</option>
					<option value="standard">Standard Clean</option>
					<option value="deep">Deep Clean</option>
					<option value="bathroom">Bathroom Steam Clean</option>
					<option value="quote">Request a Quote</option>
				</select>
			</div>
			
			<div>
				<label for="message" class="block text-sm font-medium text-gray-700 mb-2">Message *</label>
				<textarea 
					id="message" 
					name="message" 
					rows="5" 
					required
					class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 outline-none transition-all"
					placeholder="Tell us about your cleaning needs..."
				></textarea>
			</div>
			
			<button 
				type="submit" 
				class="w-full bg-emerald-600 text-white font-semibold py-4 px-6 rounded-lg hover:bg-emerald-700 transition-all transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2"
			>
				Send Message
			</button>
			
			<p class="text-sm text-gray-500 text-center">
				Or email us directly at <a href="mailto:admin@cleancollective.co.uk" class="text-emerald-600 hover:text-emerald-700 font-medium">admin@cleancollective.co.uk</a>
			</p>
		</form>
	</div>
</section>

<script>
	const form = document.querySelector('form');
	form?.addEventListener('submit', (e) => {
		e.preventDefault();
		
		const formData = new FormData(e.target as HTMLFormElement);
		const data = Object.fromEntries(formData.entries());
		
		// Create mailto link with form data
		const email = 'admin@cleancollective.co.uk';
		const subject = `New Contact Form Submission - ${data.service}`;
		const body = `
Name: ${data.firstName} ${data.lastName}
Email: ${data.email}
Phone: ${data.phone || 'Not provided'}
Location: ${data.location}
Service: ${data.service}

Message:
${data.message}
		`.trim();
		
		window.location.href = `mailto:${email}?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
	});
</script>
